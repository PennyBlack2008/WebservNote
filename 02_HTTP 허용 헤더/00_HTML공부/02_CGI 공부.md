# CGI

https://velog.io/@seanlion/cgi

## CGI 와 웹서버
CGI 란 공통 게이트웨이 인터페이스(Common Gateway Interface). 웹서버와 외부 프로그램 사이에서 정보를 주고 받는 방법이나 규약들을 말한다.

소프트웨어 측면에서 webserver 는 기본적으로 웹사용자가 어떻게 호스트 파일들에 접근하는 지를 관리한다.

(i) 정적 웹 서버

- HTTP 서버가 있는 컴퓨터로 구성
- 서버에 존재하는 이미 저장된 파일(HTML, 스크립트 등)을 브라우저에게 전송
- 서버에 저장된 데이터가 변경되지 않는 한, 고정된 웹 페이지를 보게 됨.

(ii) 동적 웹 서버

- 정적 웹 서버와 AS 로 구성
- AS 는 웹서버에서 처리하지 못하는 동적 데이터에 대응하기 위해 만들어진 어플리케이션 서버(데이터 베이스 조회, 로직 처리)
- 어플리케이션 서버는 프로그램에게 응답을 전달 받아 웹 서버에 전달하게 됨.
- WAS 는 웹서버 + AS 를 포함하는 개념.

(iii) 프로세스

- WAS 가 웹 서버로부터 처리요청을 받으면, 프로그램의 실행결과를 웹 서버에 전달

  -> 웹 서버는 해당 결과를 웹 클라이언트에게 전송. ex) 웹서버로는 Apache http server, nginx 가 있고, AS 에는 Apache Tomcat 이 있다.

## 정리

- CGI 는 정보를 주고 받는 방법이나 규약이다.
	- 웹 서버도 종류가 여러가지일 것이고, 프로그램 또한 엄청나게 많은 프로그램이 존재하기 때문에 서로 입출력을 주고 받을 표준이 필요하다.
	- 이 표준에 맞추어 만들어진 것이 CGI 스크립터이다. CGI 스크립트는 어떤 프로그래밍 언어로도 만들 수 있다.

![](https://networkencyclopedia.com/wp-content/uploads/2019/09/Common-Gateway-Interface.png)

- CGI 의 메커니즘(동적인 콘텐츠가 어떻게 CGI 를 통해 전달하게 되는 가)
	- 서버의 cgi-bin 이라는 폴더를 만들어 놓고, 그 내부의 스크립트 파일을 만들어 놓는다.
	- 웹서버가 CGI 를 통해 cgi bin 에 접속해서 그 내부의 파일을 실행시키고, 그 결과를 클라이언트에 보낸다.

- CGI 의 특징

	- CGI 는 가장 오래된 인터페이스이고 모든 웹서버를 지원 가능하다.
	- 웹 서버와 통신하기 위해 CGI 를 사용하는 프로그램은 매 리퀘스트마다 서버를 재시작해야한다.
